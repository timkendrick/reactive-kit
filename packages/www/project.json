{
  "$schema": "https://cdn.jsdelivr.net/gh/nrwl/nx/packages/nx/schemas/project-schema.json",
  "targets": {
    "build": {
      "dependsOn": ["build-app"],
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["dependsOn"],
      "outputs": ["{projectRoot}/.context", "{projectRoot}/dist"]
    },
    "build-app": {
      "dependsOn": ["build-examples"],
      "command": "vite build",
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["dependencies", "^dependencies", "config", "^config", "src", "^src", "{projectRoot}/examples/dist"],
      "outputs": [
        "{projectRoot}/dist",
        "!{projectRoot}/dist/package.json",
        "!{projectRoot}/dist/node_modules"
      ]
    },
    "build-examples": {
      "dependsOn": ["build-examples-highlighted", "build-examples-types"],
      "cache": true,
      "inputs": ["dependsOn"],
      "outputs": ["{projectRoot}/examples/dist"]
    },
    "build-examples-highlighted": {
      "command": "cd dist && ../../scripts/highlighter/highlight ../src/*",
      "options": {
        "cwd": "{projectRoot}/examples"
      },
      "cache": true,
      "inputs": ["{projectRoot}/examples/src/*", "{projectRoot}/scripts/highlighter"],
      "outputs": ["{projectRoot}/examples/dist/*.highlighted.html"]
    },
    "build-examples-types": {
      "dependsOn": ["build-examples-highlighted"],
      "command": "{ echo \"// AUTOGENERATED FILE. DO NOT EDIT!\" && for filename in dist/*.highlighted.html; do basename=$(basename \"$filename\"); printf \"\\ndeclare module '@examples/%s?raw' {\\n  const raw: string;\\n  export default raw;\\n}\\n\" \"$basename\"; done } > dist/examples.d.ts",
      "options": {
        "cwd": "{projectRoot}/examples"
      },
      "cache": true,
      "inputs": ["{projectRoot}/examples/dist/*.highlighted.html"],
      "outputs": ["{projectRoot}/examples/dist/examples.d.ts"]
    },
    "context": {
      "dependsOn": ["context-spec", "context-types"],
      "cache": true,
      "inputs": ["dependsOn"],
      "outputs": []
    },
    "context-spec": {
      "command": "mkdir -p .context && bundle-docs SPEC.md > .context/SPEC.md",
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["{projectRoot}/SPEC.md", "{projectRoot}/spec/**/*"],
      "outputs": ["{projectRoot}/.context/SPEC.md"]
    },
    "context-types": {
      "dependsOn": ["build-lib", "build-pkg"],
      "command": "mkdir -p .context && bundle-types dist ./tsconfig.json > .context/lib.d.ts",
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["dependsOn"],
      "outputs": ["{projectRoot}/.context/lib.d.ts"]
    },
    "docs": {
      "dependsOn": ["build-lib"],
      "command": "typedoc",
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["dependsOn"],
      "outputs": ["{projectRoot}/docs"]
    },
    "lint": {
      "dependsOn": ["lint-eslint", "lint-typescript"],
      "cache": true,
      "inputs": ["dependsOn"],
      "outputs": []
    },
    "lint-eslint": {
      "command": "eslint --ext js,jsx,cjs,mjs,ts,tsx,cts,mts .",
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["dependencies", "^dependencies", "config", "src"],
      "outputs": []
    },
    "lint-typescript": {
      "command": "tsc --noEmit",
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["dependencies", "^dependencies", "config", "src"],
      "outputs": []
    },
    "test": {
      "dependsOn": ["test-vitest"],
      "cache": true,
      "inputs": ["dependsOn"],
      "outputs": []
    },
    "test-vitest": {
      "command": "vitest run",
      "options": {
        "cwd": "{projectRoot}"
      },
      "cache": true,
      "inputs": ["dependencies", "^dependencies", "config", "src"],
      "outputs": []
    }
  }
}
